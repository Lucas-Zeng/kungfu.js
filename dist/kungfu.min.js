!function(t){"function"==typeof define&&define.amd?define([],function(){return t(!1)}):t(!0)}(function(t){function n(t,n,e,i){var u=function(u){var s,f;return this.sto=setTimeout(function(){s="rest"===t.type?u:t.call(this,u),"dead"!==this.status&&(this.sto=setTimeout(function(){e.call(this,s)}.bind(this),"combo"==e.type?0:i))}.bind(this),n),f};return u.type="combo",u}function e(t){if(!(this instanceof u))return new u(t);if(void 0!==t){for(var n in s)if(n===t)throw new Error('Unable to create kungfu, because the name "'+t+'" is used');s[t]=this,this.name=t}return this.fnQueue=[],this.sto=null,this.status="unstart",this}function i(){return"dead"!=this.status&&(clearTimeout(this.sto),this.status="performing"==this.status?"dead":this.status),this}var u=function(t){return e.apply(this,arguments)},s={};return u.find=function(t){return s[t]||null},u.prototype={hit:function(t,n){return"function"==typeof t&&this.fnQueue.push({fn:t,timeout:n}),this},rest:function(t){var n=function(){};return n.type="rest",this.fnQueue.push({fn:n,timeout:t}),this},die:function(){return i.call(this)},perform:function(t){{var e,i=this.fnQueue;this.fnQueue.length}return"function"==typeof t&&i.push({fn:t}),i.push({fn:function(){this.status="completed"}}),e=this.fnQueue.length>1?this.fnQueue.reduceRight(function(t,e,i){return{fn:n(e.fn,e.timeout,t.fn,t.timeout)}}):{fn:function(){return setTimeout(this.fnQueue[0].fn.bind(this),this.fnQueue[0].timeout),this}},i.pop(),"function"==typeof t&&i.pop(),this.status="performing",e.fn.call(this),this}},t&&(window.kungfu=u),u});
//# sourceMappingURL=kungfu.min.js.map
